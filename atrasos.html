<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control de Atrasos - Inspector√≠a v2.1 (2026)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        
        .main-wrapper { max-width: 1200px; margin: 0 auto; padding: 2rem; }
        .card {
            background-color: white; padding: 1.5rem; border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); border: 1px solid #e5e7eb;
        }

        /* --- ESTILOS DE IMPRESI√ìN (TIRA HORIZONTAL) --- */
        @media print {
            @page { 
                size: Letter portrait; 
                margin: 0.5cm; 
            }
            
            body * { visibility: hidden; height: 0; overflow: hidden; }
            
            #printable-area, #printable-area * { 
                visibility: visible; 
                height: auto; 
                overflow: visible; 
            }

            #printable-area {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                display: flex;
                flex-direction: column;
                gap: 10px;
            }

            .ticket-container {
                width: 100%;
                border: 2px dashed #000;
                padding: 10px;
                display: flex;
                flex-direction: row; /* Horizontal */
                align-items: center;
                justify-content: space-between;
                font-family: Arial, sans-serif;
                font-size: 11px;
                page-break-inside: avoid;
            }
            
            .ticket-logo img { height: 40px; }
            .ticket-info { flex: 1; margin-left: 15px; }
            .ticket-meta { text-align: right; font-size: 10px; }
            
            .no-print { display: none !important; }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">

    <div id="message-box" class="fixed top-5 right-5 bg-teal-600 text-white px-6 py-3 rounded shadow-lg hidden transition-opacity z-50"></div>

    <div class="main-wrapper">
        <div class="flex items-center justify-between mb-8 border-b pb-4 bg-white p-4 rounded-xl shadow-sm">
            <div class="flex items-center gap-4">
                <img src="logo.jpg" class="h-16 w-auto object-contain bg-gray-50 rounded-full p-1 border" onerror="this.style.display='none'">
                <div>
                    <h1 class="text-2xl font-bold text-gray-800">Control de Atrasos</h1>
                    <p class="text-xs text-gray-500 font-medium">Escuela Agr√≠cola Sagrados Corazones (2026)</p>
                </div>
            </div>
            <div class="text-right">
                <button class="bg-indigo-600 text-white px-4 py-2 rounded font-bold hover:bg-indigo-700 text-sm transition shadow" id="print-daily-btn">üñ®Ô∏è Imprimir Reporte Diario</button>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <div class="card border-t-4 border-indigo-500 lg:col-span-1">
                <h2 class="text-lg font-bold text-gray-800 border-b pb-2 mb-4">Registrar Atraso</h2>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Curso</label>
                        <select id="course-select" class="w-full p-2 border rounded focus:ring-2 focus:ring-indigo-200 outline-none bg-gray-50">
                            <option value="">Selecciona curso</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Estudiante</label>
                        <select id="student-select" class="w-full p-2 border rounded focus:ring-2 focus:ring-indigo-200 outline-none bg-gray-50" disabled>
                            <option value="">Primero selecciona curso</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Hora de Llegada</label>
                        <input type="time" id="arrival-time" class="w-full p-2 border rounded focus:ring-2 focus:ring-indigo-200 outline-none bg-indigo-50 font-bold text-indigo-900">
                    </div>

                    <div>
                        <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Motivo (Opcional)</label>
                        <input type="text" id="reason-input" class="w-full p-2 border rounded focus:ring-2 focus:ring-indigo-200 outline-none" placeholder="Ej: Bus atrasado, m√©dico...">
                    </div>

                    <button id="register-btn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded shadow transition transform active:scale-95 mt-2">
                        Registrar Atraso
                    </button>
                </div>
            </div>

            <div class="card border-t-4 border-gray-500 lg:col-span-2 flex flex-col h-full">
                <div class="flex justify-between items-center border-b pb-2 mb-2">
                    <h2 class="text-lg font-bold text-gray-800">Atrasos de Hoy <span id="today-date" class="text-sm font-normal text-gray-500 ml-2"></span></h2>
                    <span id="counter-badge" class="bg-red-100 text-red-700 text-xs font-bold px-2 py-1 rounded-full">0</span>
                </div>
                
                <div class="flex-1 overflow-y-auto max-h-[500px]">
                    <table class="w-full text-left text-sm" id="report-table">
                        <thead class="bg-gray-50 sticky top-0 z-10 text-xs uppercase text-gray-500">
                            <tr>
                                <th class="p-2">Hora</th>
                                <th class="p-2">Estudiante</th>
                                <th class="p-2">Curso</th>
                                <th class="p-2">Motivo</th>
                                <th class="p-2 text-right">Acci√≥n</th>
                            </tr>
                        </thead>
                        <tbody id="report-body" class="divide-y divide-gray-100">
                            <tr><td colspan="5" class="p-4 text-center text-gray-400 italic">No hay atrasos registrados hoy.</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div id="printable-area" class="hidden"></div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, addDoc, onSnapshot, deleteDoc, doc, query, where, orderBy } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        const firebaseConfig = { apiKey: "AIzaSyBnSMVCH0yyYUWk5z54kTIPTrWkyoeWs-I", authDomain: "suspenciones-40d0c.firebaseapp.com", projectId: "suspenciones-40d0c", storageBucket: "suspenciones-40d0c.firebasestorage.app", messagingSenderId: "853418739042", appId: "1:853418739042:web:d051befb99cd2acdd4583b" };
        
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        const COLLECTION_NAME = "atrasos";

        // N√ìMINA OFICIAL 2026
        const schoolData = {
            "1A": [
                '√ÅLVAREZ FA√öNDEZ MATEO VICENTE', 'AYALA V√ÅSQUEZ LISANDRA MILLARAY', 'CASTILLO ARAVENA MAITE PASCAL', 'COLLADO PUENTES SANTINO ALEXANDER',
                'CONCHA TORREALBA JOAQU√çN IGNACIO', 'D√çAZ MALUENDA ESTEFAN√çA ANTONIA', 'DONAIRE ROJAS MAITE EMILIA ESTER', 'ESPINOZA CACHA√ëA LISBET ALEXANDRA',
                'FERRADA ALBORNOZ AGUST√çN ALEXIS', 'FUENTEMAVIDA BARROS OSCAR ANTONIO', 'JAQUE PACHECO DAMI√ÅN IGNACIO', 'JARAMILLO VILLAR MATT HOST',
                'L√ìPEZ ACU√ëA MARCO EMILIO', 'L√ìPEZ VILLAR FRANCO IGNACIO', 'MESA D√çAZ GONZALO IGNACIO', 'MEZA CARRASCO CRISTIAN ALFONSO',
                'MORALES GARRIDO NICOL√ÅS ANTONIO', 'MOREIRA RIVAS VICENTE IGNACIO', 'MOYA COFRE KEVIN ALONSO', 'ORTEGA DA SILVA EMILIA CATALINA SOPHIA',
                'ORTEGA DA SILVA NICOL√ÅS IGNACIO', 'OYARZ√öN ROJAS MAR√çA FERNANDA', 'PEREIRA TAPIA KEVIN RUB√âN', 'RAM√çREZ SEP√öLVEDA LUIS JUSTIN JES√öS',
                'RAM√çREZ VALD√âS MARTINA POLETTE', 'RECABAL Y√Å√ëEZ TOM√ÅS IGNACIO', 'RODR√çGUEZ SEP√öLVEDA SIMONEY ISAMAR', 'ROJAS √ìRDENES TRACY MAIDEN',
                'S√ÅNCHEZ MUNIZAGA ALONDRA ANA√çS', 'SANDOVAL ARAVENA BENJAM√çN IGNACIO', 'SOLIZ OLGUIN BRAYAN', 'VALENZUELA MU√ëOZ MAGDALENA BEL√âN',
                'V√ÅSQUEZ RODR√çGUEZ ISMAEL ANDR√âS'
            ],
            "2A": [
                'ALARC√ìN FUENTES RICARDO FRANCISCO', 'ALBURQUENQUE DEL GRECCO EMILYA ANTONIA', 'ANABAL√ìN BELTR√ÅN BENJAM√çN NICOL√ÅS', 'ARAYA DOM√çNGUEZ ALEX FABI√ÅN',
                'ASTUDILLO CAMPOS CRIST√ìBAL ANTONIO', 'BAEZ DONOSO LUKAS ALFONSO', 'CARO BUSTOS KRISCHNA ESTEFANIA', 'CONTRERAS SALGADO HADEEY ALEJANDRA',
                'CUMINAO VIDAL CATALINA ANDREA', 'D√çAZ MALUENDA MIGUEL ALBERTO', 'DONOSO OLMOS EMILIA', 'IB√Å√ëEZ GONZ√ÅLEZ FERNANDA MAGDALENA',
                'LAGOS LASTRA ALEXANDRA DANAE', 'L√ìPEZ L√ìPEZ LUCIANO ANTONIO', 'L√ìPEZ NOVOA EYDAN DAMI√ÅN', 'MALDONADO FLORES ANTONELLA BEL√âN',
                'MONTECINO D√çAZ VALESKA BEL√âN', 'MU√ëOZ CONTRERAS LUIS GABRIEL', 'MU√ëOZ LUNA ROGER JOEL', 'NAVARRO VILLANUEVA KARLA PAZ',
                'ORELLANA ARRIAGADA SEBASTI√ÅN ANDR√âS', 'OSES CAMPOS VALENTINA ABIGAIL', 'PALMA ORELLANA ANTONELLA FRANCISCA', 'PEREIRA ORELLANA MONSERRAT ALAMIRA',
                'P√âREZ ORMAZ√ÅBAL ZADKA ALEJANDRA', 'P√âREZ QUEVEDO CONSTANZA TRINIDAD', 'QUEZADA NARANJO FELIPE ALONSO', 'RAM√çREZ VILLALOBOS DUVAN EMILIO',
                'RIQUELME SANTOS BENJAM√çN ALONSO', 'ROJAS GONZ√ÅLEZ FLORENCIA TRINIDAD', 'ROJAS LEIVA EDUARDO JAVIER', 'SALAZAR SALAS PEDRO JOS√â',
                'SANTANDER L√ìPEZ MAR√çA JOS√â', 'URBINA C√ÅCERES FRANCHESCA POULETTE', 'VARGAS MORAGA MARTINA SAYEN', 'V√ÅSQUEZ AGUILERA SCARLET NICOLE',
                'Y√Å√ëEZ GONZ√ÅLEZ BRAYAN DAMI√ÅN'
            ],
            "3A": [
                'AHUMADA ROJAS TRINIDAD BEL√âN', 'CORNEJO CASTILLO OSCAR GABRIEL', 'ESPINOZA PE√ëALILLO BRAYAN JES√öS', 'FA√öNDEZ NORAMBUENA ALEJANDRO ANTONIO',
                'JARAMILLO VILLAR EMILIO SCOTT', 'L√ìPEZ VILLAR MART√çN ALONSO', 'MEZA COLIM√ÅN ANGEL BLAS', 'MIRANDA MU√ëOZ ALEXANDRA JAVIERA',
                'MORAGA PACHECO RENATO IGNACIO', 'MORALES REIM√ÅN ALFONSO TOM√ÅS', 'ORELLANA GARRIDO MAT√çAS LEANDRO', 'PEREIRA HORMAZ√ÅBAL MAXIMILIANO EDUARDO',
                'PINTO TOBAR JORD√ÅN AMARO', 'QUI√ëENAO MU√ëOZ CRIST√ìBAL PATRICIO', 'RECABAL Y√Å√ëEZ KEVIN ANDR√âS', 'SANDOVAL CERPA VICENTE ESTEBAN',
                'SOTO NARANJO CHRISTOPHER', 'TOLEDO ALBORNOZ ANTONELLA INES', 'VEKARIC VERDEJO MART√çN', 'VIELMA ZABALAGA JOAN MANUEL'
            ],
            "3C": [
                'BRAVO MENARES ALEX JOHAN', 'CARRASCO LEIVA BENJAM√çN IGNACIO', 'ENCINA PIZARRO DIEGO BENJAM√çN ALEXANDER', 'ESPINOSA TORRES FERNANDA ELENA',
                'GONZ√ÅLEZ SALAZAR EMILIA CATALINA', 'MEDEL OJEDA LE√ìN IGNACIO', 'OLIVARES VALENZUELA ALONSO IGNACIO', 'OLIVARES VALENZUELA ANTONELLA DANAE IGNACIA',
                'PUNOY MEDEL MILLARAY ANG√âLICA', 'RIQUELME CASTILLO MAT√çAS EDUARDO ANTONIO', 'RIQUELME COLOMA DALIA CONSTANZA', 'RIVERA ABARZA CONSTANZA VICTORIA',
                'SAAVEDRA BRAVO FLORENCIA ALEJANDRA', 'SALGADO ROJAS VICENTE MOIS√âS', 'SANTIS CASSEUS TEIVA SCARLETT', 'SOBARZO Y√âVENES KATHERINNE ALEXIA BEL√âN',
                'VENEGAS ARRIAGADA ANTONIA EDITH'
            ],
            "4A": [
                'ALC√ÅNTAR GARC√çA MARTINA ALEJANDRA', 'BAHAMONDE MU√ëOZ ARIEL LEON', 'CAMPOS MU√ëOZ CRISTOPHER JES√öS', 'CANCINO OR√ìSTICA VICENTE GASPAR',
                'CARO URRUTIA CONSUELO ANTONIA', 'CARRASCO GONZ√ÅLEZ CAMILA ANDREA', 'COFR√â CASTILLO ANTONIO ANDR√âS', 'GALDAMES VERGARA FELIPE ESTEBAN',
                'GARC√çA GONZ√ÅLEZ SANTIAGO HUMBERTO', 'GONZ√ÅLEZ AMIGO FRANCISCA IGNACIA', 'GONZ√ÅLEZ SALAZAR JOAQU√çN ALONSO', 'GUTI√âRREZ GUTI√âRREZ ANGEL MART√çN',
                'HERN√ÅNDEZ SEP√öLVEDA VICENTE ALEJANDRO', 'LOBOS C√ÅCERES ANTONIA PAZ', 'MEZA CARRASCO BENJAM√çN INTI', 'MI√ëO GONZALEZ CATALINA ANDREA',
                'P√âREZ COR√ìN MANUEL IGNACIO', 'SAMANIEGO CORTEZ JAKSON FERGIE', 'SEP√öLVEDA SALAZAR SOF√çA ANTONIA', 'TAPIA ACU√ëA GABRIEL ANTONIO',
                'TORREALBA MOYA FLORVELIS DE LOS ANGELES', 'VEGA VIVANCO CRIST√ìBAL ANTONIO', 'VERA NAVARRETE DANIELA ELIZABETH', 'VILLALOBOS ARAVENA KARINA ANGELINA',
                'VILLALOBOS VILLALOBOS SAMIR LUCIAN JES√öS'
            ],
            "4C": [
                'ARELLANO ACU√ëA MART√çN ANTONIO', 'AROS √ÅVILA DAYANA IGNACIA', 'CABRERA COLOMBINO MAR√çA GRACIA', 'COLLAO MEDINA ANA√çS VALENTINA',
                'DE LA HOZ VALENZUELA FRANCO SEBASTI√ÅN', 'FUENTES CARRASCO YARIXA ALEJANDRA', 'G√ìMEZ CANCINO DANIELA ALEJANDRA', 'GUTI√âRREZ CARRI√ìN MILLARAY CAROLINA',
                'HONORATO TAPIA GLORIA JAVIERA', 'LARA RIVERA BENJAM√çN ESTEBAN', 'PAIVA OROZCO DUVAN MAURICIO ALBERTO', 'PALACIOS SOTO JOS√â TOM√ÅS',
                'PEZO SANTANDER JOS√â CRIST√ìBAL', 'ROCHA ROJAS JOS√â PABLO WILLIAMS', 'ROJAS Y√âVENES FABIANA ISIDORA', 'S√ÅNCHEZ PAREJA ANDY ANTONIO',
                'SANTANDER L√ìPEZ SIM√ìN ESTEBAN', 'TRONCOSO LIZAMA SIOMARA IGNACIA', 'WARNKEN ROJAS LUCIANA BERNABELA'
            ]
        };

        const courseSelect = document.getElementById('course-select');
        const studentSelect = document.getElementById('student-select');
        let loadedRecords = [];

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('today-date').innerText = new Date().toLocaleDateString();
            document.getElementById('arrival-time').value = new Date().toLocaleTimeString('es-CL', {hour: '2-digit', minute:'2-digit'});

            for (const course in schoolData) {
                const opt = document.createElement('option');
                opt.value = course;
                opt.textContent = course;
                courseSelect.appendChild(opt);
            }

            signInAnonymously(auth).then(() => {
                listenTodayData();
            }).catch(e => console.error("Error Auth:", e));
        });

        courseSelect.addEventListener('change', () => {
            const sel = courseSelect.value;
            studentSelect.innerHTML = '<option value="">Selecciona alumno</option>';
            studentSelect.disabled = !sel;
            if (sel && schoolData[sel]) {
                schoolData[sel].forEach(st => {
                    const opt = document.createElement('option'); opt.value = st; opt.textContent = st; studentSelect.appendChild(opt);
                });
            }
        });

        // --- FUNCIONES ---
        function listenTodayData() {
            const todayStr = new Date().toISOString().split('T')[0];
            const q = query(collection(db, COLLECTION_NAME), where('dateISO', '==', todayStr)); 
            
            onSnapshot(q, (snapshot) => {
                loadedRecords = [];
                snapshot.forEach(doc => loadedRecords.push({ id: doc.id, ...doc.data() }));
                loadedRecords.sort((a,b) => b.timestamp.localeCompare(a.timestamp));
                renderTable();
            });
        }

        function renderTable() {
            const tbody = document.getElementById('report-body');
            const counter = document.getElementById('counter-badge');
            tbody.innerHTML = '';
            counter.innerText = loadedRecords.length;

            if(loadedRecords.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5" class="p-4 text-center text-gray-400 italic">No hay atrasos registrados hoy.</td></tr>';
                return;
            }

            loadedRecords.forEach(r => {
                const tr = document.createElement('tr');
                tr.className = "hover:bg-gray-50 border-b";
                tr.innerHTML = `
                    <td class="p-2 font-mono font-bold text-indigo-700">${r.time}</td>
                    <td class="p-2 font-bold text-gray-700">${r.student}</td>
                    <td class="p-2 text-xs text-gray-500">${r.course}</td>
                    <td class="p-2 text-xs italic text-gray-400">${r.reason || '-'}</td>
                    <td class="p-2 text-right">
                        <button onclick="window.reprintItem('${r.id}')" class="text-blue-500 hover:text-blue-700 mr-2" title="Reimprimir">üñ®Ô∏è</button>
                        <button onclick="window.deleteItem('${r.id}')" class="text-red-500 hover:text-red-700" title="Borrar">üóëÔ∏è</button>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        document.getElementById('register-btn').addEventListener('click', async () => {
            const course = courseSelect.value;
            const student = studentSelect.value;
            const time = document.getElementById('arrival-time').value;
            const reason = document.getElementById('reason-input').value.trim();

            if(!course || !student || !time) return showToast("Faltan datos");

            const now = new Date();
            const record = {
                course, student, time, reason,
                dateISO: now.toISOString().split('T')[0],
                timestamp: now.toISOString()
            };

            try {
                const docRef = await addDoc(collection(db, COLLECTION_NAME), record);
                record.id = docRef.id;
                printTicket(record);
                
                // Reset
                studentSelect.value = '';
                document.getElementById('reason-input').value = '';
                showToast("Atraso registrado");
            } catch(e) {
                console.error(e);
                showToast("Error al guardar");
            }
        });

        function printTicket(data) {
            const printable = document.getElementById('printable-area');
            printable.innerHTML = `
                <div class="ticket-container">
                    <div class="ticket-logo">
                        <img src="logo.jpg" onerror="this.style.display='none'">
                    </div>
                    <div class="ticket-info">
                        <h2 style="margin:0; font-size:14px; font-weight:bold;">PASE DE INGRESO A CLASES</h2>
                        <p style="margin:2px 0 5px 0;"><strong>Alumno:</strong> ${data.student} (${data.course})</p>
                        <p style="margin:0;"><strong>Hora Llegada:</strong> ${data.time} | <strong>Motivo:</strong> ${data.reason || 'Sin especificar'}</p>
                    </div>
                    <div class="ticket-meta">
                        <strong>${new Date().toLocaleDateString()}</strong><br>
                        Inspector√≠a General
                    </div>
                </div>
            `;
            window.print();
        }

        document.getElementById('print-daily-btn').addEventListener('click', () => {
            if(loadedRecords.length === 0) return showToast("No hay datos para imprimir");
            
            const printable = document.getElementById('printable-area');
            printable.innerHTML = `
                <div style="padding:20px;">
                    <h2 style="text-align:center; font-size:18px; margin-bottom:10px;">REPORTE DIARIO DE ATRASOS</h2>
                    <p style="text-align:center; margin-bottom:20px;">Fecha: ${new Date().toLocaleDateString()}</p>
                    <table style="width:100%; border-collapse:collapse; font-size:12px;">
                        <thead>
                            <tr style="background:#eee;">
                                <th style="border:1px solid #000; padding:5px;">Hora</th>
                                <th style="border:1px solid #000; padding:5px;">Curso</th>
                                <th style="border:1px solid #000; padding:5px;">Estudiante</th>
                                <th style="border:1px solid #000; padding:5px;">Motivo</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${loadedRecords.map(r => `
                                <tr>
                                    <td style="border:1px solid #000; padding:5px; text-align:center;">${r.time}</td>
                                    <td style="border:1px solid #000; padding:5px; text-align:center;">${r.course}</td>
                                    <td style="border:1px solid #000; padding:5px;">${r.student}</td>
                                    <td style="border:1px solid #000; padding:5px;">${r.reason || '-'}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                    <div style="margin-top: 20px; font-size: 10px; text-align: right;">Generado el ${new Date().toLocaleString()}</div>
                </div>
            `;
            const style = document.createElement('style');
            style.innerHTML = `
                @media print { 
                    #printable-area { 
                        position: static !important; 
                        width: 100% !important; 
                        height: auto !important; 
                        border: none !important; 
                        display: block !important;
                    } 
                }`;
            document.head.appendChild(style);
            window.print();
            setTimeout(() => document.head.removeChild(style), 1000);
        });

        window.reprintItem = (id) => {
            const record = loadedRecords.find(r => r.id === id);
            if(record) {
                printTicket(record);
            }
        };

        window.deleteItem = async (id) => {
            if(confirm("¬øEliminar registro?")) {
                await deleteDoc(doc(db, COLLECTION_NAME, id));
                showToast("Registro eliminado");
            }
        };

        function showToast(msg) {
            const box = document.getElementById('message-box');
            box.innerText = msg;
            box.classList.remove('hidden');
            setTimeout(() => box.classList.add('hidden'), 3000);
        }
    </script>
</body>
</html>